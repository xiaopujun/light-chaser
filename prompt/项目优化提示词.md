## 项目基础信息

**React可视化编辑器开发引擎 v3.0**
技术栈锁定：React 18 + TypeScript 5 + MobX + AntD 5.20.0 + Less + Vite 5
项目类型：数据可视化编辑器（类DataV/EasyV），支持拖拽组件和多数据源
响应式：项目为PC端设计软件，不考虑响应式效果

## 绝对禁令（违规立即终止）：

1. 禁止引入新依赖（除非明确要求）
2. 禁止修改现有状态管理逻辑
3. 禁止删除已有代码注释
4. 禁止使用未授权的第三方库

## 组件开发规范（严格遵循）：

每次我提问时会提供我本地的部分代码。 回答的代码要保持我本地的代码风格不变。如果我没有提供，你应该要求我提供。或者你自己根据上下文分析我之前提供过的记录。

## 风格样式要求（严格遵循）

以下基于图像内容对设计风格进行专业分析，聚焦视觉语言与构成逻辑：

---

**1. 视觉基调：高密度信息可视化（High-Density Data Visualization）**

- **空间压缩策略**  
  模块间距极小（≤8px），通过细分隔线（`---`）替代留白，形成**紧凑型信息矩阵**。
- **图形元素特征**
    - 零渐变/阴影：纯色块填充进度值（如75%条）
    - 几何符号主导：方括号复选框 `[ ]`、尖括号组件 `< >` 替代传统图标
    - 无圆角设计：所有元素直角边界

---

**2. 版式系统：混合网格架构（Hybrid Grid Framework）**

| 区域    | 布局模式         | 对齐逻辑       |
|-------|--------------|------------|
| 全局进度区 | 单列流式         | 图表居中+标签左对齐 |
| 核心指标区 | 三列等分网格       | 数值居中+标签左对齐 |
| 挑战交互区 | 双列不对称（发送/接收） | 列表强左对齐     |
| 记录模块  | 堆叠卡片式        | 多行文本两端对齐   |

---

**3. 字体系统：动态字阶强化（Dynamic Type Scaling）**

| 层级            | 特征                     | 用例                |
|---------------|------------------------|-------------------|
| **主标题 (H1)**  | 全大写+字重800（Extra Bold）  | "ENTRAINEMENT..." |
| **数据标签 (H3)** | 字重700+字号突增（150% Body）  | "75%" "89%"       |
| **进度描述**      | 小字号（80% Body）+灰度（#666） | "76/100 vmies"    |
| **交互文本**      | 字重500+无大小写转换           | "jul" "Liam Yung" |
| **符号化标记**     | 等宽字符+字重400             | `[x]` `[y]` `[z]` |

---

**4. 色彩策略：语义化色值编码（Semantic Color Coding）**

- **状态指示系统**
    - `[x]`：高饱和绿色（完成态）
    - `[ ]`：中性灰（未激活态）
    - `[y]/[z]`：衍生色相（如蓝/橙，表次级状态）
- **数据强调逻辑**  
  核心数值（75%/89%）使用**深色基底+亮色字**，次要文本反相处理

---

**5. 数据图形：极简主义图表（Minimalist Data Graphics）**

- **进度条语言**  
  横向柱状图仅用：  
  ① 数字标签（100%/80%...）  
  ② 位置隐喻（无实体bar，靠文本排列暗示进度）
- **指标可视化**  
  双数据层叠：
  ```  
  75%  ← 强调值（大字阶）  
  76/100 vmies ← 解释项（小字阶）  
  ```

---

**6. 交互元件：符号化界面（Semiotic Interface）**

| 组件       | 设计语言                  | 创新点           |
|----------|-----------------------|---------------|
| **复选框**  | 方括号`[ ]`+字母状态`x/y/z`  | 突破二进制状态（3+状态） |
| **导航标记** | 尖括号包裹`< TRAMPOLINE >` | 替代传统按钮        |
| **挑战卡片** | 纯文本流+行内状态标记           | 无背景色/边框分隔     |
| **记录标识** | 计量单位大写强调（`MÈTRES`）    | 数据维度可视化       |

---

**7. 风格溯源与设计哲学**

- **运动流派**：  
  **瑞士朋克（Swiss Punk）** 的数字化演绎——在网格框架中注入非常规符号系统（如 `[y]` `[z]`）
- **反模式特征**：
    - 拒绝响应式留白（信息密度最大化）
    - 颠覆传统表单逻辑（用字母状态替代复选框）
- **核心矛盾**：  
  精密网格（三列等分）与自由文本流（挑战描述）的共生

> **设计价值主张**：  
> **数据即时性 > 视觉优雅** | **交互符号化 > 隐喻拟真** | **空间效率 > 呼吸感**

---

**关键识别特征**

1. 字母状态复选框 `[x][y][z]` 系统
2. 无实体柱状图的文本进度矩阵
3. 尖括号组件包裹 `< >`
4. 双尺度数据并置（75% + 76/100）
5. 计量单位大写强化（`MÈTRES`）

此风格适用于高频率数据监控场景（运动仪表盘/IoT控制台），通过符号压缩提升信息密度，代表**后扁平化时代的功能主义**演进。

## 需要调整的代码

```tsx
/*
 * Copyright © 2023-2025 puyinzhen
 * All rights reserved.
 *
 * The copyright of this work (or idea/project/document) is owned by puyinzhen. Without explicit written permission, no part of this work may be reproduced, distributed, or modified in any form for commercial purposes.
 *
 * This copyright statement applies to, but is not limited to: concept descriptions, design documents, source code, images, presentation files, and any related content.
 *
 * For permission to use this work or any part of it, please contact 1182810784@qq.com to obtain written authorization.
 */

import React, {Key, useEffect, useMemo} from "react";
import dataSourceStore, {IDataSource} from "./DataSourceStore.ts";
import {Button, Input, Card, List, Tag, Space} from "antd";
import {observer} from "mobx-react";
import {Add, Delete} from "@icon-park/react";
import {globalModal} from "../../../framework/message/GlobalModal.tsx";
import DataSourcePanel from "./DataSourcePanel.tsx";
import './DataSourceList.less';

const {Search} = Input;

const DataSourceList = observer(() => {
    const {
        doBatchDeleteDataSource,
        setPanelVisible,
        doCreateOrUpdateDataSource,
        init,
        destroy,
        panelVisible,
        dataSourcePageData,
        dataSource
    } = dataSourceStore;

    const {current, records, size, total} = dataSourcePageData;

    // 选中 ID 列表
    let selectedIds: string[] = [];

    useEffect(() => {
        init();
        return () => destroy();
    }, []);

    const rowSelection = useMemo(() => ({
        onChange: (selectedRowKeys: Key[]) => {
            selectedIds = [...selectedRowKeys as string[]];
        }
    }), []);

    const handleSearch = (value: string) => {
        dataSourceStore.searchValue = value;
        dataSourceStore.getDataSourceList();
    };

    const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {
        if (event.key === 'Enter') handleSearch((event.target as HTMLInputElement).value);
    };

    const handleBatchDelete = () => {
        if (!selectedIds.length) return;
        globalModal.modalApi?.confirm({
            title: '删除确认',
            content: '确定删除选中的数据源吗？',
            onOk: () => doBatchDeleteDataSource(selectedIds)
        });
    };

    const cardActions = (record: IDataSource) => [
        <a key="edit" onClick={() => dataSourceStore.openDataSourceEditor(record.id!)}>[x] 编辑</a>,
        <a key="copy" onClick={() => dataSourceStore.copyDataSource(record.id!)}>[y] 复制</a>,
        <a key="delete" onClick={() => {
            globalModal.modalApi?.confirm({
                title: '删除确认',
                content: '确定删除该数据源吗？',
                onOk: () => dataSourceStore.doBatchDeleteDataSource([record.id!])
            });
        }}>[z] 删除</a>,
        <a key="test" onClick={() => dataSourceStore.testConnect(record.id!)}>[ ] 测试</a>
    ];

    return (
        <div className="datasource-list">
            <div className="datasource-list-header">
                <div className="header-left">
                    <Search
                        placeholder="搜索数据源"
                        size="middle"
                        className="project-list-search"
                        onKeyDown={handleKeyDown}
                        onSearch={handleSearch}
                        style={{width: 350}}
                    />
                    <Button
                        className="operate-btn primary"
                        size="middle"
                        onClick={() => setPanelVisible(true)}
                    >
                        <Add style={{position: 'relative', top: 2, marginRight: 3}}/>
                        新建
                    </Button>
                    <Button
                        className="operate-btn danger"
                        size="middle"
                        onClick={handleBatchDelete}
                    >
                        <Delete style={{position: 'relative', top: 2, marginRight: 3}}/>
                        删除
                    </Button>
                </div>
                <div className="header-right"></div>
            </div>

            <div className="datasource-list-body">
                <List
                    grid={{ gutter: 16, column: 3 }}
                    dataSource={records}
                    pagination={{
                        showTotal: () => `共${total}条`,
                        pageSize: size,
                        current,
                        total,
                        position: 'bottom',
                        align: 'center'
                    }}
                    renderItem={(item) => (
                        <List.Item>
                            <Card
                                title={<><Tag color="#00A650">{item.type}</Tag> {item.name}</>}
                                actions={cardActions(item)}
                                className="datasource-card"
                            >
                                <Space direction="vertical" size={4}>
                                    <div><strong>[ ] 用户:</strong> {item.username}</div>
                                    <div className="url-container">
                                        <strong>[ ] 链接:</strong>
                                        <span className="url-text">{item.url}</span>
                                    </div>
                                </Space>
                            </Card>
                        </List.Item>
                    )}
                />
            </div>

            <DataSourcePanel
                visible={panelVisible}
                title={dataSource.id ? '编辑数据源' : '新建数据源'}
                data={dataSource}
                onClose={() => setPanelVisible(false)}
                onSubmitted={doCreateOrUpdateDataSource}
            />
        </div>
    );
});

export default DataSourceList;
```

```less

.datasource-list {
  position: relative;
  height: 100%;
  background-color: #1f1f1f;
  color: #c5c5c5;
  display: flex;
  flex-direction: column;

  .datasource-list-header {
    display: flex;
    justify-content: space-between;
    padding: 16px 24px;
    border-bottom: 1px solid #2e2e2e;
    background-color: #2a2a2a;

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;

      .project-list-search {
        flex-shrink: 0;
      }

      .operate-btn {
        display: flex;
        align-items: center;
        gap: 4px;
        font-weight: 500;

        &.primary {
          background-color: #00A650;
          border: none;
          color: #fff;
        }

        &.danger {
          background-color: #ff4d4f;
          border: none;
          color: #fff;
        }
      }
    }
  }

  .datasource-list-body {
    flex: 1;
    padding: 16px 24px;
    overflow: auto;

    .ant-list {
      .ant-list-item {
        padding: 8px !important;
      }
    }

    .datasource-card {
      background-color: #2a2a2a;
      border: 1px solid #2e2e2e;
      color: #c5c5c5;
      height: 100%;

      .ant-card-head {
        border-bottom: 1px solid #2e2e2e;
        color: #fff;
        min-height: 48px;
        padding: 0 16px;

        .ant-card-head-title {
          padding: 8px 0;
          font-weight: 700;
        }
      }

      .ant-card-body {
        padding: 16px;
        font-size: 13px;
      }

      .ant-card-actions {
        background: #2e2e2e;
        border-top: 1px solid #2e2e2e;
        margin: 0;

        > li {
          margin: 8px 0;
          color: #00A650;
          cursor: pointer;

          &:hover {
            text-decoration: underline;
          }
        }
      }

      .url-container {
        display: flex;
        gap: 4px;
      }

      .url-text {
        word-break: break-all;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
    }
  }
}


```

## 修改要求

1. 优化卡片的内容展示，只需要展示名称和类型就行，操作按钮换一种更加合适的交互模式。比如悬浮显示操作按钮，点击卡片进入编辑页面等等（我举个例子，你自行决断）

