## 项目基础信息

**React可视化编辑器开发引擎 v3.0**
技术栈锁定：React 18 + TypeScript 5 + MobX + AntD 5.20.0 + Less + Vite 5
项目类型：数据可视化编辑器（类DataV/EasyV），支持拖拽组件和多数据源
响应式：项目为PC端设计软件，不考虑响应式效果

## 绝对禁令（违规立即终止）：

1. 禁止引入新依赖（除非明确要求）
2. 禁止修改现有状态管理逻辑
3. 禁止删除已有代码注释
4. 禁止使用未授权的第三方库

## 组件开发规范（严格遵循）：

每次我提问时会提供我本地的部分代码。 回答的代码要保持我本地的代码风格不变。如果我没有提供，你应该要求我提供。或者你自己根据上下文分析我之前提供过的记录。

## 风格样式要求（严格遵循）

---

1. 主题与配色

- 整体深色主题与高对比亮色点缀
- 主色板：#1E1E2F（背景）、#2C2C3E（容器）、#4FB8FF（主高亮）、#3CED92（成功指示）、#FF6E6E（警示）
- 辅助色板：#A0A0B2（次级文字）、#FFFFFF（主要文字）
- 冷暖对比：蓝绿系高亮对比红橙系警示

2. 布局与排版

- 响应式 12 列网格，最大宽度 1200px，手机至桌面自动适配
- 间距：主轴 24px、次轴 16px、容器内边 20px
- 字体：无衬线（Inter / Roboto / Helvetica Neue）
- 字号层级：
    1. 页面标题 24px / Bold / 行高32px
    2. 区块标题 18px / Semibold / 行高28px
    3. 正文说明 14px / Regular / 行高20px
    4. 辅助信息 12px / Regular / 行高16px

3. UI 组件与形态

- 卡片：圆角8px、柔和阴影 (0 2px 8px rgba(0,0,0,0.3))
- 按钮：
    - 主按钮：#4FB8FF 背景、白色文字、圆角4px、12×24px 内边
    - 次按钮：透明背景、#4FB8FF 边框/文字、圆角4px
- 输入框：#2C2C3E 背景、1px #3A3A4E 边框、4px 圆角
- 图标：24px 线性描边、2px 统一粗细

4. 交互动效

- 悬停：边框/背景高亮 10% 亮度提升
- 激活：深暗 10% 并加粗边框
- 切换/加载：0.2s 透明度与位移过渡
- 提示框：#2C2C3E 背景 + 白字，圆角4px，阴影 0 1px 4px rgba(0,0,0,0.4)

5. 可访问性与响应式

- 文本对比度符合 WCAG AA
- 键盘可操作、焦点态明显（2px #4FB8FF 高光）
- 屏幕阅读器友好：合理语义、ARIA 标签
- 多语言支持：自动换行、字符兼容

---

**总结**

“深色简约主题；高对比亮色点缀；12 列响应式网格；无衬线字体；圆角卡片与柔和阴影；主/次按钮样式统一；线性 24px 图标；细节交互动效 0.2s 过渡；WCAG AA 对比度；键盘/屏幕阅读器支持；现代专业风格，全项目通用界面设计。”

---

将上述提示词按需拆分或合并，输给 AI 即可获得风格一致、专业现代的全项目界面设计方案。

## 需要调整的代码

```tsx
/*
 * Copyright © 2023-2025 puyinzhen
 * All rights reserved.
 *
 * The copyright of this work (or idea/project/document) is owned by puyinzhen. Without explicit written permission, no part of this work may be reproduced, distributed, or modified in any form for commercial purposes.
 *
 * This copyright statement applies to, but is not limited to: concept descriptions, design documents, source code, images, presentation files, and any related content.
 *
 * For permission to use this work or any part of it, please contact 1182810784@qq.com to obtain written authorization.
 */

import React, {useEffect, useState} from "react";
import dataSourceStore from "./DataSourceStore.ts";
import {Button, Input, List, Space, Tag} from "antd";
import {observer} from "mobx-react";
import {Add, Delete} from "@icon-park/react";
import {globalModal} from "../../../framework/message/GlobalModal.tsx";
import DataSourcePanel from "./DataSourcePanel.tsx";
import './DataSourceList.less';

const {Search} = Input;

const DataSourceList = observer(() => {
  const {
    doBatchDeleteDataSource,
    setPanelVisible,
    doCreateOrUpdateDataSource,
    init,
    destroy,
    panelVisible,
    dataSourcePageData,
    dataSource
  } = dataSourceStore;

  const {current, records, size, total} = dataSourcePageData;
  const [hoveredCard, setHoveredCard] = useState<string | null>(null);

  // 选中 ID 列表
  const selectedIds: string[] = [];

  useEffect(() => {
    init();
    return () => destroy();
  }, []);

  const handleSearch = (value: string) => {
    dataSourceStore.searchValue = value;
    dataSourceStore.getDataSourceList();
  };

  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {
    if (event.key === 'Enter') handleSearch((event.target as HTMLInputElement).value);
  };

  const handleBatchDelete = () => {
    if (!selectedIds.length) return;
    globalModal.modalApi?.confirm({
      title: '删除确认',
      content: '确定删除选中的数据源吗？',
      onOk: () => doBatchDeleteDataSource(selectedIds)
    });
  };

  const handleActionClick = (e: React.MouseEvent, action: string, id: string) => {
    e.stopPropagation();
    switch (action) {
      case 'edit':
        dataSourceStore.openDataSourceEditor(id);
        break;
      case 'copy':
        dataSourceStore.copyDataSource(id);
        break;
      case 'delete':
        globalModal.modalApi?.confirm({
          title: '删除确认',
          content: '确定删除该数据源吗？',
          onOk: () => dataSourceStore.doBatchDeleteDataSource([id])
        });
        break;
      case 'test':
        dataSourceStore.testConnect(id);
        break;
    }
  };

  return (
          <div className="datasource-list">
            <div className="datasource-list-header">
              <div className="header-left">
                <Search
                        placeholder="搜索数据源"
                        size="middle"
                        className="project-list-search"
                        onKeyDown={handleKeyDown}
                        onSearch={handleSearch}
                        style={{width: 350}}
                />
                <Button
                        className="operate-btn primary"
                        size="middle"
                        onClick={() => setPanelVisible(true)}
                >
                  <Add style={{position: 'relative', top: 2, marginRight: 3}}/>
                  新建
                </Button>
                <Button
                        className="operate-btn danger"
                        size="middle"
                        onClick={handleBatchDelete}
                >
                  <Delete style={{position: 'relative', top: 2, marginRight: 3}}/>
                  删除
                </Button>
              </div>
              <div className="header-right"></div>
            </div>

            <div className="datasource-list-body">
              <List grid={{gutter: 8, column: 4}}
                    dataSource={records}
                    pagination={{
                      showTotal: () => `共${total}条`,
                      pageSize: size,
                      current,
                      total,
                      position: 'bottom',
                      align: 'center'
                    }}
                    renderItem={(item) => (
                            <List.Item className="datasource-item"
                                       onMouseEnter={() => setHoveredCard(item.id!)}
                                       onMouseLeave={() => setHoveredCard(null)}>
                              <div className={`datasource-card ${hoveredCard === item.id ? 'hovered' : ''}`}
                                   onClick={() => dataSourceStore.openDataSourceEditor(item.id!)}>
                                <div className="card-header">
                                  <Tag color="#00A650" className="type-tag">{item.type}</Tag>
                                  {hoveredCard === item.id && (
                                          <Space className="card-actions" onClick={e => e.stopPropagation()}>
                                            <span className="action-btn" onClick={(e) => handleActionClick(e, 'copy', item.id!)}>[复制]</span>
                                            <span className="action-btn" onClick={(e) => handleActionClick(e, 'delete', item.id!)}>[删除]</span>
                                            <span className="action-btn" onClick={(e) => handleActionClick(e, 'test', item.id!)}>[测试]</span>
                                          </Space>
                                  )}
                                </div>
                                <div className="card-title">{item.name}</div>
                              </div>
                            </List.Item>
                    )}
              />
            </div>

            <DataSourcePanel
                    visible={panelVisible}
                    title={dataSource.id ? '编辑数据源' : '新建数据源'}
                    data={dataSource}
                    onClose={() => setPanelVisible(false)}
                    onSubmitted={doCreateOrUpdateDataSource}
            />
          </div>
  );
});

export default DataSourceList;

```

```less


.datasource-list {
  position: relative;
  padding: 20px;
  height: 100%;
  background-color: #1f1f1f;
  color: #c5c5c5;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  .datasource-list-header {
    display: flex;
    justify-content: space-between;
    padding: 16px 24px;
    border-bottom: 1px solid #2e2e2e;
    background-color: #2a2a2a;
    will-change: transform;

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;

      .project-list-search {
        flex-shrink: 0;

        .ant-input {
          border-radius: 0;
          transition: border-radius 0.3s cubic-bezier(0.645, 0.045, 0.355, 1),
          box-shadow 0.3s ease;
          transform: translateZ(0); // 新增：启用GPU加速

          &:hover,
          &:focus {
            border-radius: 4px;
            box-shadow: 0 0 0 2px rgba(0, 166, 80, 0.2);
          }
        }
      }

      .operate-btn {
        display: flex;
        align-items: center;
        gap: 4px;
        font-weight: 500;
        transition: all 0.3s ease;
        transform: translateZ(0); // 新增：启用GPU加速

        &.primary {
          background-color: #00A650;
          border: none;
          color: #fff;

          &:hover {
            transform: scale(1.02);
          }
        }

        &.danger {
          background-color: #ff4d4f;
          border: none;
          color: #fff;

          &:hover {
            transform: scale(1.02);
          }
        }
      }
    }
  }

  .datasource-list-body {
    flex: 1;
    padding: 16px 0;

    .datasource-card {
      background-color: #2a2a2a;
      border: 1px solid #2e2e2e;
      color: #c5c5c5;
      padding: 12px;
      height: 100%;
      cursor: pointer;
      position: relative;
      border-radius: 3px;
      transition: transform 0.3s ease, background-color 0.3s ease, border 0.3s ease;

      &:hover {
        border-color: #00A650;
        background-color: #333;
        transform: scale(1.02);
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;

        .type-tag {
          margin: 0;
          font-weight: 700;
          border: none;
          padding: 0 6px;
          height: 20px;
          line-height: 20px;
          font-size: 12px;
          transition: transform 0.2s ease-out;

          &:hover {
            transform: scale(1.05);
          }
        }

        .card-actions {
          display: flex;
          gap: 8px;
          height: 20px;
          transition: opacity 0.3s ease;

          .action-btn {
            color: #c5c5c5;
            font-size: 12px;
            cursor: pointer;
            height: 100%;
            display: inline-block;
            transition: color 0.2s ease,
            transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);

            &:hover {
              color: #00A650;
              transform: scale(1.15);
            }

            &[onclick*="copy"] {
              color: #1890ff;
            }

            &[onclick*="delete"] {
              color: #ff4d4f;
            }

            &[onclick*="test"] {
              color: #c5c5c5;
            }
          }
        }
      }

      .card-title {
        font-weight: 700;
        font-size: 14px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        transition: color 0.3s ease;

        &:hover {
          color: #fff;
        }
      }
    }
  }
}

.datasource-card:not(:hover) .card-actions {
  opacity: 0;
  pointer-events: none;
}

.datasource-card:hover .card-actions {
  opacity: 1;
  pointer-events: auto;
}

/* 优化分页器动画 */
.ant-pagination {
  .ant-pagination-item,
  .ant-pagination-prev,
  .ant-pagination-next,
  .ant-pagination-jump-prev,
  .ant-pagination-jump-next {
    will-change: transform;
    transition: transform 0.3s ease;

    a {
      transition: color 0.2s ease;
    }

    &:hover {
      transform: translateY(-1px) scale(1.05); // 修改

      a {
        color: #00A650;
      }
    }

    &.ant-pagination-item-active {
      transform: scale(1.1);
    }
  }
}

```

## 修改要求

1. 重构该组件的效果，让其符合我规定的设计风格哲学。 内容排版样式在符合我要求的情况下，你自由发挥，但不可以改变我组件的功能逻辑。 
