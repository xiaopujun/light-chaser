## 项目基础信息

技术栈锁定：React 18 + TypeScript 5 + MobX + AntD 5.20.0 + Less + Vite 5
项目类型：数据可视化编辑器（类DataV/EasyV），支持拖拽组件和多数据源
响应式：项目为PC端设计软件，不考虑响应式效果

## 绝对禁令（违规立即终止）：

1. 禁止引入新依赖（除非明确要求）
2. 禁止修改现有状态管理逻辑
3. 禁止删除已有代码注释
4. 禁止使用未授权的第三方库

## 代码风格（严格遵循）：

参考我提供的代码案例，输出的代码风格应该和我提供的代码案例一致。

## 风格样式要求（严格遵循）

---

1. 主题与配色

- 整体深色主题与高对比亮色点缀
- 主色板：#1E1E2F（背景）、#2C2C3E（容器）、#4FB8FF（主高亮）、#3CED92（成功指示）、#FF6E6E（警示）
- 辅助色板：#A0A0B2（次级文字）、#FFFFFF（主要文字）
- 冷暖对比：蓝绿系高亮对比红橙系警示

2. 布局与排版

- 响应式 12 列网格，最大宽度 1200px，手机至桌面自动适配
- 间距：主轴 24px、次轴 16px、容器内边 20px
- 字体：无衬线（Inter / Roboto / Helvetica Neue）
- 字号层级：
    1. 页面标题 24px / Bold / 行高32px
    2. 区块标题 18px / Semibold / 行高28px
    3. 正文说明 14px / Regular / 行高20px
    4. 辅助信息 12px / Regular / 行高16px

3. UI 组件与形态

- 卡片：圆角8px、柔和阴影 (0 2px 8px rgba(0,0,0,0.3))
- 按钮：
    - 主按钮：#4FB8FF 背景、白色文字、圆角4px、12×24px 内边
    - 次按钮：透明背景、#4FB8FF 边框/文字、圆角4px
- 输入框：#2C2C3E 背景、1px #3A3A4E 边框、4px 圆角
- 图标：24px 线性描边、2px 统一粗细

4. 交互动效

- 悬停：边框/背景高亮 10% 亮度提升
- 激活：深暗 10% 并加粗边框
- 切换/加载：0.2s 透明度与位移过渡
- 提示框：#2C2C3E 背景 + 白字，圆角4px，阴影 0 1px 4px rgba(0,0,0,0.4)

5. 可访问性与响应式

- 文本对比度符合 WCAG AA
- 键盘可操作、焦点态明显（2px #4FB8FF 高光）
- 屏幕阅读器友好：合理语义、ARIA 标签
- 多语言支持：自动换行、字符兼容

---

**总结**

“深色简约主题；高对比亮色点缀；12 列响应式网格；无衬线字体；圆角卡片与柔和阴影；主/次按钮样式统一；线性 24px 图标；细节交互动效 0.2s 过渡；WCAG AA 对比度；键盘/屏幕阅读器支持；现代专业风格，全项目通用界面设计。”

---

## 需要调整的代码

```tsx


import {useEffect, useRef, useState} from "react";
import URLUtil from "../../../../utils/URLUtil";
import {ILayerItem, SaveType} from "../../../DesignerType";
import operatorMap from "../../../../framework/operate/index";
import {AbstractApi} from "../../../../framework/operate/AbstractApi";
import './ImageSource.less';
import eventOperateStore from "../../../operate-provider/EventOperateStore";
import layerManager from "../../../manager/LayerManager.ts";
import editorDesignerLoader from "../../../loader/EditorDesignerLoader";
import IdGenerate from "../../../../utils/IdGenerate";
import {BaseImageComponentProps} from "../../../../comps/lc/base-image/BaseImageController";
import {IImageData} from "../../../../comps/lc/base-image/BaseImageComponent";
import DragAddProvider from "../../../../framework/drag-scale/DragAddProvider";
import {Popconfirm} from "antd";
import historyRecordOperateProxy from "../../../operate-provider/undo-redo/HistoryRecordOperateProxy.ts";
import {Close} from "@icon-park/react";

export default function ImageSource() {
    const [imageList, setImageList] = useState<IImageData[]>([]);
    const dragAddProvider = useRef<DragAddProvider | null>(null);

    const dragStart = (event: DragEvent) => {
        if ((event.target as HTMLElement).classList.contains('droppable-element')) {
            const element = event.target as HTMLElement;
            event.dataTransfer?.setData('imageUrl', element.getAttribute('data-url')!);
            event.dataTransfer?.setData('imageHash', element.getAttribute('data-hash')!);
        }
    }

    const dragover = (event: DragEvent) => {
        event.preventDefault();
    }

    const drop = (event: DragEvent) => {
        event.preventDefault();
        const url = event.dataTransfer?.getData('imageUrl');
        const hash = event.dataTransfer?.getData('imageHash');
        if (!url) return;
        const {scale, dsContentRef} = eventOperateStore;
        const contentPos = dsContentRef?.getBoundingClientRect();
        const x = (event.clientX - (contentPos?.x || 0)) / scale;
        const y = (event.clientY - (contentPos?.y || 0)) / scale;
        addItem("BaseImage", [x, y], url, hash);
    }

    const addItem = (compKey: string, position = [0, 0], url: string, hash?: string) => {
        const {elemConfigs} = layerManager;
        const {setAddRecordCompId} = eventOperateStore;
        const {definitionMap} = editorDesignerLoader;
        const definition = definitionMap[compKey];
        const {compName, width = 320, height = 200} = definition.getBaseInfo();
        const id = IdGenerate.generateId();
        const movableItem: ILayerItem = {
            name: compName,
            type: compKey,
            x: Math.round(position![0]),
            y: Math.round(position![1]),
            id,
            lock: false,
            hide: false,
            width,
            height,
        }
        setAddRecordCompId(movableItem.id!)
        historyRecordOperateProxy.doAdd(movableItem);

        const initConfig: BaseImageComponentProps = definition.getInitConfig();
        initConfig.style!.type = 'local';
        initConfig.style!.localUrl = url;
        initConfig.style!.hash = hash;
        elemConfigs![id] = initConfig;
    }

    const getImageList = () => {
        const {saveType, id} = URLUtil.parseUrlParams();
        (operatorMap[saveType as SaveType] as AbstractApi).getImageSourceList(id).then((data) => {
            setImageList(data);
        });
    }

    useEffect(() => {
        getImageList();
        dragAddProvider.current = new DragAddProvider(
            document.getElementById("image-source-list")!,
            document.getElementById("designer-ds-content")!,
            dragStart,
            dragover,
            drop
        );
        return () => dragAddProvider.current?.destroy();
    }, []);

    const confirmDel = (imageId: string) => {
        const {saveType} = URLUtil.parseUrlParams();
        (operatorMap[saveType as SaveType] as AbstractApi).delImageSource(imageId).then((data) => {
            if (data)
                getImageList();
        });
    }

    return (
        <div className={'image-source'}>
            <div className={'image-source-list'} id={'image-source-list'}>
                {imageList.map((item: IImageData, index: number) => (
                    <div
                        className={'image-source-item droppable-element'}
                        key={index}
                        draggable={true}
                        data-url={item.url}
                        data-hash={item.hash}
                    >
                        <div className={'image-source-item-header'}>
                            <div className={'isi-title'}>{item.name || '未命名图片'}</div>
                            <div className={'isi-operate'}>
                                <Popconfirm
                                    title="确认删除图片吗？"
                                    description="删除后已使用该图片的组件将无法显示"
                                    onConfirm={() => confirmDel(item.id!)}
                                    okText="确认"
                                    cancelText="取消"
                                    okButtonProps={{className: 'primary-btn'}}
                                    cancelButtonProps={{className: 'secondary-btn'}}
                                    overlayClassName="image-source-popconfirm"
                                >
                                    <Close className="delete-icon"/>
                                </Popconfirm>
                            </div>
                        </div>
                        <div className={'image-source-item-body'}>
                            <div
                                className={'item-bg-image'}
                                style={{backgroundImage: `url(${item.url})`}}
                                title={item.name || '未命名图片'}
                            />
                        </div>
                    </div>
                ))}
            </div>
        </div>
    );
}
```

```less

.image-source {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: #1E1E2F;
  padding: 16px;
  box-sizing: border-box;
  font-family: 'Inter', 'Helvetica Neue', sans-serif;

  .image-source-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 16px;
    scrollbar-color: #3A3A4E #2C2C3E;

    .image-source-item {
      display: flex;
      flex-direction: column;
      height: 180px;
      background-color: #2C2C3E;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      transition: all 0.2s ease;
      cursor: grab;

      &:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        border: 1px solid #4FB8FF;
      }

      &:active {
        cursor: grabbing;
      }

      .image-source-item-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 12px;
        background-color: rgba(40, 40, 58, 0.8);
        border-bottom: 1px solid #3A3A4E;

        .isi-title {
          font-size: 12px;
          color: #FFFFFF;
          font-weight: 500;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 120px;
        }

        .isi-operate {
          .delete-icon {
            color: #A0A0B2;
            font-size: 14px;
            transition: all 0.2s ease;
            padding: 2px;
            border-radius: 2px;

            &:hover {
              color: #FF6E6E;
              background-color: rgba(255, 110, 110, 0.1);
            }
          }
        }
      }

      .image-source-item-body {
        flex: 1;
        padding: 8px;

        .item-bg-image {
          width: 100%;
          height: 100%;
          border-radius: 4px;
          background-color: #1E1E2F;

          background-size: contain;
          background-position: center;
          background-repeat: no-repeat;
          image-rendering: auto;
          object-fit: contain;
        }

      }
    }
  }
}

// Popconfirm样式覆盖
.image-source-popconfirm {
  .ant-popover-inner {
    background-color: #2C2C3E;
    border: 1px solid #3A3A4E;
    border-radius: 4px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);

    .ant-popconfirm-title {
      color: #FFFFFF;
      font-size: 14px;
    }

    .ant-popconfirm-description {
      color: #A0A0B2;
      font-size: 12px;
    }
  }
}

.primary-btn {
  background-color: #4FB8FF !important;
  border-color: #4FB8FF !important;
  color: #FFFFFF !important;
}

.secondary-btn {
  background-color: transparent !important;
  border-color: #4FB8FF !important;
  color: #4FB8FF !important;
}
```

## 修改要求

1. 保持组件的UI风格不变，让其符合我规定的设计风格哲学。
2. 在列表顶部增加一个搜索框，用户可以输入图片名称进行搜索。
3. 不能破坏组件的现有功能
4. 遵守我上面给出的要求和指令
